{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/close.svg","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/PopupWithConfirm.js","images/Union.svg","components/InfoTooltip.js","images/Reject.png","utils/api.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","userLocation","useLocation","className","pathname","email","onClick","onSignout","to","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","onCardClick","type","onCardLike","length","onCardDelete","Main","onEditAvatar","avatar","value","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","closeIcon","onClose","onSubmit","title","children","isLoading","EditAvatarPopup","avatarRef","useRef","evt","preventDefault","onUpdateAvatar","current","id","ref","placeholder","required","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","onChange","target","minLength","maxLength","AddPlacePopup","setTitle","setLink","ImagePopup","PopupWithConfirm","onCardDeleteConfirm","cardId","buttonText","InfoTooltip","success","pictureWithSucces","api","address","headers","this","_address","_headers","fetch","then","_checkResponse","data","method","body","JSON","stringify","cardData","res","ok","json","Promise","reject","status","authorization","ProtectedRoute","Component","component","loggedIn","Login","setEmail","password","setPassword","handleChange","onLogin","Register","onRegister","BASE_URL","checkResponse","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCard","cardIdToDelete","setCardIdToDelete","setLoggedIn","isSuccess","setSuccess","isInfoTooltipOpen","setIsInfoTooltipOpen","history","useHistory","closeAllPopups","localStorage","getItem","jwt","token","push","catch","err","console","error","all","getUserInfo","getInitialCards","userData","log","Provider","removeItem","exact","path","likeCard","newCard","c","deleteCard","filter","auth","setItem","setUserAvatar","userAvatar","setUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9d92b004.chunk.js","sourcesContent":["import { useLocation, Link, Route, Switch } from 'react-router-dom';\r\n\r\nexport default function Header(props) {\r\n\r\n    const userLocation = useLocation();\r\n\r\n    return ( \r\n        <header className=\"header\"> \r\n            <div className=\"header__logo\"></div> \r\n\r\n            {userLocation.pathname === \"/\" && ( \r\n                <div className=\"header__logged\"> \r\n                    <p className=\"header__email\">{props.email}</p> \r\n                    <a className=\"header__link\" onClick={props.onSignout}>Выйти</a> \r\n                </div> \r\n            )} \r\n            {userLocation.pathname === \"/sign-up\" && ( \r\n                <Link to=\"/sign-in\" className=\"header__link\">Войти</Link> \r\n            )} \r\n            {userLocation.pathname === \"/sign-in\" && ( \r\n                <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link> \r\n            )} \r\n        </header> \r\n    );\r\n}\r\n","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Card(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `photo-element__delete-btn ${isOwn ? 'photo-element__delete-btn_active' : 'photo-element__delete-btn'}`\r\n      );\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `photo-element__like ${isLiked ? 'photo-element__like_active' : 'photo-element__like'}`\r\n      );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n          <div className=\"photo-element\">\r\n              <img className=\"photo-element__picture\" src={props.card.link} alt={props.card.name} onClick={handleClick} />\r\n              <div className=\"photo-element__content\">\r\n                  <h2 className=\"photo-element__title\">{props.card.name}</h2>\r\n                  <div className=\"photo-element__likes-container\">\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                    <p className=\"photo-element__quantity\">{props.card.likes.length}</p>\r\n                  </div>\r\n              </div>\r\n              <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n          </div>\r\n    )\r\n}","import React from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nexport default function Main(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n              <div className=\"profile__avatar-container\" onClick={props.onEditAvatar}>\r\n                  <img className=\"profile__avatar\" alt=\"Аватарка.\" src={currentUser.avatar} />\r\n              </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__redactor\">\r\n                        <h1 className=\"profile__info-name\">{currentUser.name}</h1>\r\n                        <button type=\"button\" className=\"profile__redactor-btn\" value=\"\" onClick={props.onEditProfile} ></button>\r\n                    </div>\r\n                    <p className=\"profile__info-description\">{currentUser.about}</p>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__submit-btn\" value=\"\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n            <section className=\"photo-elements\">\r\n                {props.cards.map((card) => (\r\n                    <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n                ))}\r\n            </section>\r\n        </main>  \r\n    );\r\n}","export default function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\"> 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/close.44bb1e48.svg\";","import closeIcon from '../images/close.svg';\r\nimport React from 'react';\r\n\r\n\r\nexport default function PopupWithForm(props) {\r\n    return (\r\n        <section className={`popup popup-${props.name} ${props.isOpen ? 'popup_opened' : '' }`}>\r\n          <div className=\"popup__container\">\r\n            <button type=\"button\" className=\"popup__close-btn\"><img className=\"popup__icon\" alt=\"Крестик.\" src={closeIcon}  onClick={props.onClose} /></button>\r\n            <form name={props.name} onSubmit={props.onSubmit} className=\"form\">\r\n              <h2 className=\"form__title\">{props.title}</h2>\r\n              {props.children}\r\n              <button type=\"submit\" className=\"form__save-btn\" >{props.isLoading ? \"Сохранение...\": \"Сохранить\"}</button>\r\n            </form>\r\n          </div>\r\n        </section>\r\n    );\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\nexport default function EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef('');\r\n    \r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title=\"Обновить аватар\" name=\"popupAvatar\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\r\n            <input id=\"avatar-input\" type=\"url\" ref={avatarRef} placeholder=\"Ссылка на аватар\" name=\"link\" className=\"form__input\" required />\r\n            <span className=\"link-input-error form__input-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser, props.isOpen]);\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    } \r\n\r\n    function handleNameChange(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title=\"Редактировать профиль\" name=\"popup\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} >\r\n            <input id=\"heading-input\" type=\"text\" name=\"name\" value={name || ''} placeholder=\"Имя\" className=\"form__input\" onChange={handleNameChange} minLength=\"2\" maxLength=\"40\" required />\r\n            <span className=\"heading-input-error form__input-error\"></span>\r\n            <input id=\"subheading-input\" type=\"text\" name=\"about\" value={description || ''} placeholder=\"Вид деятельности\" className=\"form__input\" onChange={handleDescriptionChange} minLength=\"2\" maxLength=\"200\" required />\r\n            <span className=\"subheading-input-error form__input-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\nexport default function AddPlacePopup(props) {\r\n\r\n    const [title, setTitle] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleTitleChange(evt) {\r\n        setTitle(evt.target.value);\r\n    }\r\n\r\n    function handleLinkChange(evt) {\r\n        setLink(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onAddPlace({\r\n            name: title,\r\n            link: link,\r\n        });\r\n        setTitle('');\r\n        setLink('');\r\n    }\r\n    return (\r\n        <PopupWithForm title=\"Новое место\" name=\"popupAdd\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input id=\"name-input\" type=\"text\" placeholder=\"Название\" name=\"name\" value={title} onChange={handleTitleChange} className=\"form__input\" minLength=\"2\" maxLength=\"30\" required />\r\n            <span className=\"name-input-error form__input-error\"></span>\r\n            <input id=\"link-input\" type=\"url\" placeholder=\"Ссылка на картинку\" name=\"link\" value={link} onChange={handleLinkChange} className=\"form__input\" required />\r\n            <span className=\"link-input-error form__input-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}","import closeIcon from '../images/close.svg';\r\nimport React from 'react';\r\n\r\nexport default function ImagePopup(props) {\r\n    return (\r\n      <section className={`popup popup-photo ${props.card ? 'popup_opened' : '' }`}>\r\n        <div className=\"popup-photo__container\">\r\n          <button type=\"button\" className=\"popup__close-btn\" value=\"\"><img className=\"popup__icon\" alt=\"Крестик.\" src={closeIcon} onClick={props.onClose}/></button>\r\n          <img alt={props.card.name} src={props.card.link} className=\"popup-photo__image\" />\r\n          <h3 className=\"popup-photo__title\">{props.card.name}</h3>\r\n        </div>\r\n      </section>\r\n    );\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\nexport default function PopupWithConfirm(props) {\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onCardDeleteConfirm(props.cardId);\r\n    };\r\n\r\n    return(\r\n        <PopupWithForm title=\"Вы уверены?\" name=\"popupDelete\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} buttonText=\"Да\">\r\n        </PopupWithForm>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/Union.1b6082f8.svg\";","import React from 'react';\r\nimport pictureWithSucces from '../images/Union.svg';\r\nimport pictureWithReject from '../images/Reject.png';\r\nimport closeIcon from '../images/close.svg';\r\n\r\nexport default function InfoTooltip(props) {\r\n    return (\r\n        <section className={`popup popup-${props.name} ${props.isOpen ? 'popup_opened' : '' }`}>\r\n          <div className=\"popup__container\">\r\n            <button type=\"button\" className=\"popup__close-btn\"><img className=\"popup__icon\" alt=\"Крестик.\" src={closeIcon}  onClick={props.onClose} /></button>\r\n            <div className=\"popup__tooltip\">\r\n                    <img className=\"popup__tooltip-picture\" src={props.success ? pictureWithSucces : pictureWithReject} alt=\"Статус регистрации.\" />\r\n                    <p className=\"popup__tooltip-text\">{props.success ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n    );\r\n}","export default \"data:image/png;base64,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\"","export class Api {\r\n    constructor({address, headers}) {\r\n      this._address = address;\r\n      this._headers = headers;\r\n    }\r\n  \r\n    getUserInfo() {\r\n        return fetch(`${this._address}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._address}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    setUserInfo(data) {\r\n        return fetch(`${this._address}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    addCard(cardData) {\r\n        return fetch(`${this._address}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: cardData.name,\r\n                link: cardData.link\r\n            })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    likeCard(id, isLiked) {\r\n        return fetch(`${this._address}/cards/likes/${id}`, {\r\n            method: isLiked ? 'PUT': 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    setUserAvatar(data) {\r\n        return fetch(`${this._address}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._address}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n  \r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    \r\n}\r\n\r\nconst api = new Api({\r\n    address: 'https://mesto.nomoreparties.co/v1/cohort-24',\r\n    headers: {\r\n      authorization:'fad10afc-9b25-4889-84c7-ba30776ae655',\r\n      'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","import React from 'react';\r\n\r\nexport default function Login(props) {\r\n\r\n    const [email, setEmail] = React.useState(''); \r\n    const [password, setPassword] = React.useState(''); \r\n \r\n    function handleChange(evt) { \r\n        evt.preventDefault(); \r\n\r\n        if (evt.target.name === \"email\") { \r\n            setEmail(evt.target.value); \r\n        } else if (evt.target.name === \"password\") { \r\n            setPassword(evt.target.value); \r\n        } \r\n    } \r\n \r\n    function handleSubmit(evt) { \r\n        evt.preventDefault(); \r\n        if (!email || !password) { \r\n            return; \r\n        } \r\n        props.onLogin(email, password); \r\n    } \r\n \r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"login\">\r\n              <div className=\"login__container\">\r\n              <h2 className=\"login__title\">Вход</h2>\r\n                <form name=\"login__form\" onSubmit={handleSubmit} className=\"login__form\">\r\n                    <input id=\"email\" type=\"email\" placeholder=\"Email\" value={email} onChange={handleChange} name=\"email\" className=\"login__input\" required />\r\n                    <span className=\"email-input-error login__input-error\"></span>\r\n                    <input id=\"password\" type=\"password\" placeholder=\"Пароль\" value={password} onChange={handleChange} name=\"password\" className=\"login__input\" required />\r\n                    <span className=\"password-input-error login__input-error\"></span>\r\n                    <button type=\"submit\" className=\"login__save-btn\">Войти</button>\r\n                </form>\r\n              </div>\r\n            </section>\r\n        </main>\r\n    );\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Register(props) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleChange(evt) {\r\n        evt.preventDefault();\r\n        if (evt.target.name === \"email\") {\r\n            setEmail(evt.target.value);\r\n        } else if (evt.target.name === \"password\") {\r\n            setPassword(evt.target.value);\r\n        }\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onRegister(email, password);\r\n    }\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"login\">\r\n              <div className=\"login__container\">\r\n              <h2 className=\"login__title\">Регистраиция</h2>\r\n                <form name=\"login__form\" onSubmit={handleSubmit} className=\"login__form\">\r\n                    <input id=\"email\" type=\"email\" placeholder=\"Email\" value={email} onChange={handleChange} name=\"email\" className=\"login__input\" minLength=\"2\" maxLength=\"40\" required />\r\n                    <span className=\"email-input-error login__input-error\"></span>\r\n                    <input id=\"password\" type=\"password\" placeholder=\"Пароль\" value={password} onChange={handleChange} name=\"password\" className=\"login__input\" minLength=\"2\" maxLength=\"40\" required />\r\n                    <span className=\"password-input-error login__input-error\"></span>\r\n                    <button type=\"submit\" className=\"login__save-btn\">Зарегистрироваться</button>\r\n                </form>\r\n                <div className=\"login__signup\">\r\n                    <p>Уже зарегистрированы?</p>\r\n                    <Link to=\"/sign-in\" className=\"login__link\">Войти</Link>\r\n                </div>\r\n              </div>\r\n            </section>\r\n        </main>\r\n    );\r\n}","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (res) => {\r\n  if (res.ok) {\r\n      return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n}\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({email, password})\r\n    })\r\n    .then(checkResponse)\r\n  };\r\n\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email, password})\r\n    })\r\n    .then(checkResponse)\r\n};\r\n\r\n\r\nexport const checkToken = (token) => {\r\nreturn fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n    'Accept': 'application/json',\r\n    'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${token}`,\r\n    }\r\n})\r\n  .then(checkResponse)\r\n}","import React from 'react'; \nimport Header from './Header'; \nimport Main from './Main'; \nimport Footer from './Footer'; \nimport EditAvatarPopup from './EditAvatarPopup'; \nimport EditProfilePopup from './EditProfilePopup'; \nimport AddPlacePopup from './AddPlacePopup'; \nimport ImagePopup from './ImagePopup'; \nimport PopupWithConfirm from './PopupWithConfirm'; \nimport InfoTooltip from './InfoTooltip'; \nimport api from '../utils/api'; \nimport {CurrentUserContext} from '../contexts/CurrentUserContext'; \nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'; \nimport ProtectedRoute from \"./ProtectedRoute\"; \nimport Login from './Login'; \nimport Register from './Register'; \nimport * as auth from '../utils/auth'; \n \nfunction App() { \n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false); \n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false); \n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false); \n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false); \n  const [selectedCard, setSelectedCard] = React.useState(null); \n  const [currentUser, setCurrentUser] = React.useState({}); \n  const [cards, setCard] = React.useState([]); \n  const [cardIdToDelete, setCardIdToDelete] = React.useState(null); \n  const [loggedIn, setLoggedIn] = React.useState(false); \n  const [email, setEmail] = React.useState(''); \n  const [isSuccess, setSuccess] = React.useState(false); \n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false); \n  const history = useHistory(); \n \n \n  React.useEffect(() => { \n    if (localStorage.getItem(\"jwt\")) { \n      const jwt = localStorage.getItem(\"jwt\"); \n      auth.checkToken(jwt) \n          .then((res) => { \n              if (res) { \n                  setEmail(res.data.email); \n              } \n              setLoggedIn(true); \n              history.push(\"/\"); \n          }) \n          .catch((err) => { \n              console.error(err); \n          }); \n  } \n  }, []); \n \n  React.useEffect(() => { \n      Promise.all([api.getUserInfo(), api.getInitialCards()]) \n      .then(([userData, cardData]) => { \n          setCurrentUser(userData); \n          setCard(cardData); \n      }) \n      .catch((err) => { \n          console.log(err); \n      }); \n  }, []); \n \n  function handleUpdateUser(data) { \n    api.setUserInfo(data) \n      .then((userData) => { \n        setCurrentUser(userData); \n        closeAllPopups(); \n      }) \n      .catch((err) => { \n          console.log(err); \n      }); \n  } \n \n  function handleUpdateAvatar(data) { \n    api.setUserAvatar(data) \n    .then(userAvatar => { \n      setCurrentUser(userAvatar); \n      closeAllPopups(); \n    }) \n    .catch((err) => { \n        console.log(err); \n    }); \n  } \n \n  function handleAddPlaceSubmit(data) { \n    api.addCard(data) \n    .then((cardData) => { \n      setCard([cardData, ...cards]); \n      closeAllPopups(); \n    }) \n    .catch((err) => { \n        console.log(err); \n    }); \n  } \n \n  function handleEditAvatarClick() { \n    setIsEditAvatarPopupOpen(true); \n  } \n \n  function handleEditProfileClick() { \n    setIsEditProfilePopupOpen(true); \n  } \n \n  function handleAddPlaceClick() { \n    setIsAddPlacePopupOpen(true); \n  } \n \n  function handleCardClick(card) { \n    setSelectedCard(card); \n  } \n \n  function closeAllPopups() { \n    setIsEditAvatarPopupOpen(false); \n    setIsEditProfilePopupOpen(false); \n    setIsAddPlacePopupOpen(false); \n    setSelectedCard(null); \n    setIsInfoTooltipOpen(false); \n  } \n \n  function handleCardDeleteConfirm(card) { \n    api.deleteCard(card._id) \n        .then(() => { \n          setCard((cards) => cards.filter((c) => c._id !== card._id)); \n          closeAllPopups() \n        }) \n        .catch((err) => { \n          console.log(err); \n        }); \n  } \n \n  function handleCardLike(card) { \n    const isLiked = card.likes.some(i => i._id === currentUser._id); \n    api.likeCard(card._id, !isLiked) \n      .then((newCard) => { \n          setCard((cards) => cards.map((c) => c._id === card._id ? newCard : c)); \n      }) \n      .catch((err) => { \n        console.log(err); \n    }); \n  } \n \n  function handleCardDelete(card) { \n    api.deleteCard(card._id) \n      .then(() => { \n        setCard((cards) => cards.filter((c) => c._id !== card._id)); \n        setIsConfirmPopupOpen(true); \n        setCardIdToDelete(card); \n      }) \n      .catch((err) => { \n        console.log(err); \n      }); \n  } \n \n  function handleRegister(email, password) { \n    auth.register(email, password) \n      .then(() => { \n          history.push(\"/sign-in\"); \n          setSuccess(true); \n          setIsInfoTooltipOpen(true); \n      }) \n      .catch((err) => { \n          console.error(err); \n          setSuccess(false); \n          setIsInfoTooltipOpen(true); \n      }); \n  } \n \n  function handleLogin(email, password) { \n    return auth \n        .authorize(email, password) \n        .then((data) => { \n            localStorage.setItem(\"jwt\", data.token); \n            setEmail(email); \n            setLoggedIn(true); \n            history.push(\"/\"); \n        }) \n        .catch((err) => { \n            console.error(err); \n            setSuccess(false); \n            setIsInfoTooltipOpen(true); \n        }); \n  } \n \n  function handleLogout() { \n    localStorage.removeItem(\"jwt\"); \n    setEmail(''); \n    setLoggedIn(false); \n    history.push('/sign-in'); \n  } \n \n  return ( \n    <div className=\"page\"> \n      <CurrentUserContext.Provider value={currentUser}> \n        <Header loggedIn={loggedIn} email={email} onSignout={handleLogout} /> \n        <Switch> \n          <ProtectedRoute exact \n            path=\"/\" \n            component={Main} \n            onEditAvatar={handleEditAvatarClick}  \n            onEditProfile={handleEditProfileClick}  \n            onAddPlace={handleAddPlaceClick}  \n            onCardClick={handleCardClick} \n            onCardLike={handleCardLike} \n            onCardDelete={handleCardDelete} \n            cards={cards} \n            loggedIn={loggedIn} \n          /> \n          <Route path='/sign-in'> \n            <Login onLogin={handleLogin} /> \n          </Route> \n          <Route path='/sign-up'> \n            <Register onRegister={handleRegister} /> \n          </Route> \n          <Route> {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}</Route> \n        </Switch> \n        <Footer /> \n        <InfoTooltip isOpen={isInfoTooltipOpen} onClose={closeAllPopups} success={isSuccess} /> \n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/> \n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}/> \n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/> \n        <ImagePopup card={selectedCard !== null && selectedCard} onClose={closeAllPopups}/> \n        <PopupWithConfirm isOpen={isConfirmPopupOpen} onClose={closeAllPopups} onCardDeleteConfirm={handleCardDeleteConfirm} cardId={cardIdToDelete} /> \n      </CurrentUserContext.Provider> \n    </div> \n  ); \n} \n \nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}